<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ğŸ¬ Video Caption Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='output/styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Header -->
    <header class="header">
        <h1>ğŸ¬ Video Caption Generator</h1>
        <p class="tagline">Turn your transcripts into perfectly synced subtitles.</p>
    </header>

    <!-- Main Form Container -->
    <div class="container">
        <form id="uploadForm" action="/generate" method="post" enctype="multipart/form-data">
            <label for="transcript">ğŸ“„ Transcript File (.doc / .docx)</label>
            <input type="file" name="transcript" id="transcript" accept=".docx,.doc" required>

            <label for="media">ğŸ¥ Video/Audio File (.mp4 / .mp3 / .mpv)</label>
            <input type="file" name="media" id="media" accept=".mp4,.mp3,.mpv" required>

            <button type="submit">ğŸš€ Generate Captions</button>
        </form>

        <!-- Loader -->
        <div class="loader" id="loader"></div>

        <!-- Success Message -->
        {% if status == 'success' and filename %}
        <div class="success" id="success">
            âœ… Captions generated successfully!<br><br>
            <a href="{{ url_for('static', filename='output/' + filename) }}" download class="download-btn">â¬‡ï¸ Download Captions</a><br><br>
            <a href="/" class="home-link">â¬… Generate Another</a>
        </div>
        {% endif %}
    </div>

    <!-- Footer -->
    <footer class="footer">
        Made with â¤ï¸ by Your Name | Â© 2025
    </footer>

    <script>
        const form = document.getElementById('uploadForm');
        const loader = document.getElementById('loader');
        const success = document.getElementById('success');

        form.addEventListener('submit', () => {
            loader.style.display = 'block';
            if (success) success.style.display = 'none';
        });

        window.onload = () => {
            const params = new URLSearchParams(window.location.search);
            if (params.get('status') === 'success') {
                loader.style.display = 'none';
                if (success) success.style.display = 'block';
            }
        };
    </script>
</body>
</html>
